Пример из стандартной библиотеки java выглядит более наглядным (имхо), но в целом я продемонстрировал принципы.
