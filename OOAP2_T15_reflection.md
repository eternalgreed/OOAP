Моё решение полностью сходится с эталоном. Теперь более осознанно понимаю, почему делать булевый флаг или int признак - плохо.
